---
interface Milestone {
    year: number;
    title: string;
    description: string;
}

interface Props {
    milestones: Milestone[];
}

const { milestones } = Astro.props;
---

<section class="w-full py-24 px-6 bg-white text-primary overflow-hidden">
    <div class="max-w-7xl mx-auto">

        {/* Encabezado */}
        <div class="text-center mb-16 md:mb-24">
            <h2 class="font-title text-4xl md:text-5xl font-bold mb-4">Nuestra Historia</h2>
            <p class="font-text text-lg text-secondary">Cada taza cuenta un momento en el tiempo.</p>
        </div>

        {/* Contenedor de la Línea de Tiempo */}
        <div class="relative grid grid-cols-1 md:grid-cols-4 gap-12 md:gap-8">

            {/* --- LÍNEA HORIZONTAL (Solo Desktop) --- */}
            {/* Se posiciona detrás de los puntos, alineada a su centro (top-4 = 1rem = 16px) */}
            <div class="hidden md:block absolute top-4 left-0 w-full h-0.5 bg-tertiary z-0 rounded-full"></div>

            {milestones.map((milestone) => (
                    <div class="group relative flex flex-row md:flex-col gap-6 md:gap-0">

                        {/* --- LÍNEA VERTICAL (Solo Móvil) --- */}
                        {/* Conecta los puntos verticalmente en pantallas pequeñas */}
                        <div class="md:hidden absolute left-[15px] top-8 bottom-[-48px] w-0.5 bg-tertiary z-0"></div>

                        {/* --- EL PUNTO (Marcador) --- */}
                        <div class="relative z-10 flex-shrink-0 md:mb-6 md:mx-auto">
                            <div class="w-8 h-8 rounded-full bg-secondary border-4 border-white shadow-md transition-all duration-300 group-hover:scale-125 group-hover:bg-primary group-hover:ring-2 group-hover:ring-tertiary"></div>
                        </div>

                        {/* --- EL CONTENIDO --- */}
                        <div class="flex flex-col md:items-center md:text-center pt-1 md:pt-0">
                            {/* Año destacado */}
                            <span class="font-title text-3xl font-bold text-tertiary transition-colors duration-300 group-hover:text-secondary mb-2 block">
                            {milestone.year}
                        </span>

                            {/* Tarjeta de información */}
                            {/* Hover sutil: sube un poco y la sombra crece */}
                            <div class="bg-white/50 p-4 rounded-xl transition-all duration-300 group-hover:-translate-y-1">
                                <h3 class="font-title text-xl font-bold mb-2 text-primary">
                                    {milestone.title}
                                </h3>
                                <p class="font-text text-sm leading-relaxed text-primary/80">
                                    {milestone.description}
                                </p>
                            </div>
                        </div>
                    </div>
            ))}
        </div>
    </div>
</section>